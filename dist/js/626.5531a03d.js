(self["webpackChunkshangpinghui"]=self["webpackChunkshangpinghui"]||[]).push([[626],{8626:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>p});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("TypeNav"),a("div",{staticClass:"main"},[a("div",{staticClass:"py-container"},[a("div",{staticClass:"bread"},[t._m(0),a("ul",{staticClass:"fl sui-tag"},[a("li",{directives:[{name:"show",rawName:"v-show",value:t.searchParams.categoryName,expression:"searchParams.categoryName"}],staticClass:"with-x"},[t._v(t._s(t.searchParams.categoryName)),a("i",{on:{click:t.clearName}},[t._v("×")])]),a("li",{directives:[{name:"show",rawName:"v-show",value:t.searchParams.keyword,expression:"searchParams.keyword"}],staticClass:"with-x"},[t._v(t._s(t.searchParams.keyword)),a("i",{on:{click:t.clearKeyword}},[t._v("×")])]),a("li",{directives:[{name:"show",rawName:"v-show",value:t.searchParams.trademark,expression:"searchParams.trademark"}],staticClass:"with-x"},[t._v(t._s(t.searchParams.trademark.split(":")[1])),a("i",{on:{click:t.clearTradeMark}},[t._v("×")])]),t._l(t.searchParams.props,(function(e,s){return a("li",{key:s,staticClass:"with-x"},[t._v(t._s(e.split(":")[1])),a("i",{on:{click:function(e){return t.clearProp(s)}}},[t._v("×")])])}))],2)]),a("SearchSelector",{on:{getTradeMarkInfo:t.getTradeMarkInfo,getAttrInfo:t.getAttrInfo}}),a("div",{staticClass:"details clearfix"},[a("div",{staticClass:"sui-navbar"},[a("div",{staticClass:"navbar-inner filter"},[a("ul",{staticClass:"sui-nav"},[a("li",{class:{active:t.isComprehensive},on:{click:function(e){return t.changeOrder("1")}}},[a("a",[t._v("综合"),a("span",{directives:[{name:"show",rawName:"v-show",value:t.isComprehensive,expression:"isComprehensive"}],staticClass:"iconfont",class:{"icon-long-arrow-down":t.isDesc,"icon-long-arrow-up":t.isAsc}})])]),a("li",{class:{active:t.isPrice},on:{click:function(e){return t.changeOrder("2")}}},[a("a",[t._v("价格"),a("span",{directives:[{name:"show",rawName:"v-show",value:t.isPrice,expression:"isPrice"}],staticClass:"iconfont",class:{"icon-long-arrow-down":t.isDesc,"icon-long-arrow-up":t.isAsc}})])])])])]),a("div",{staticClass:"goods-list"},[a("ul",{staticClass:"yui3-g"},t._l(t.goodsList,(function(e,s){return a("li",{key:e.id,staticClass:"yui3-u-1-5"},[a("div",{staticClass:"list-wrap"},[a("div",{staticClass:"p-img"},[a("router-link",{attrs:{to:"/detail/"+e.id}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.defaultImg,expression:"good.defaultImg"}]})])],1),a("div",{staticClass:"price"},[a("strong",[a("em",[t._v("¥")]),a("i",[t._v(t._s(e.price)+".00")])])]),a("div",{staticClass:"attr"},[a("a",{attrs:{title:e.title}},[t._v(t._s(e.title))])]),t._m(1,!0),t._m(2,!0)])])})),0)]),a("Pagination",{attrs:{total:t.total,pageSize:t.searchParams.pageSize,pageNo:t.searchParams.pageNo,continues:5},on:{getPageNo:t.getPageNo}})],1)],1)])],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"fl sui-breadcrumb"},[a("li",[a("a",{attrs:{href:"#"}},[t._v("全部结果")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"commit"},[a("i",{staticClass:"command"},[t._v("已有"),a("span",[t._v("2000")]),t._v("人评价")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"operate"},[a("a",{staticClass:"sui-btn btn-bordered btn-danger",attrs:{href:"success-cart.html",target:"_blank"}},[t._v("加入购物车")]),a("a",{staticClass:"sui-btn btn-bordered",attrs:{href:"javascript:void(0);"}},[t._v("收藏")])])}],i=a(4367),n=(a(4916),a(3123),a(2222),a(2772),a(561),a(4765),a(629)),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"clearfix selector"},[a("div",{staticClass:"type-wrap logo"},[a("div",{staticClass:"fl key brand"},[t._v("品牌")]),a("div",{staticClass:"value logos"},[a("ul",{staticClass:"logo-list"},t._l(t.tradeMarkList,(function(e,s){return a("li",{key:e.tmId,on:{click:function(a){return t.checkTradeMark(e)}}},[t._v(t._s(e.tmName))])})),0)]),t._m(0)]),t._l(t.searchList.attrsList,(function(e,s){return a("div",{key:e.attrId,staticClass:"type-wrap"},[a("div",{staticClass:"fl key"},[t._v(t._s(e.attrName))]),a("div",{staticClass:"fl value"},[a("ul",{staticClass:"type-list"},t._l(e.attrValueList,(function(s,r){return a("li",{key:r,on:{click:function(a){return t.handler(e,s)}}},[a("a",[t._v(t._s(s))])])})),0)]),a("div",{staticClass:"fl ext"})])}))],2)},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ext"},[a("a",{staticClass:"sui-btn",attrs:{href:"javascript:void(0);"}},[t._v("多选")]),a("a",{attrs:{href:"javascript:void(0);"}},[t._v("更多")])])}];const l={name:"SearchSelector",computed:(0,i.Z)((0,i.Z)({},(0,n.Se)("search",["tradeMarkList","attrsList"])),(0,n.rn)("search",["searchList"])),methods:{checkTradeMark:function(t){this.$emit("getTradeMarkInfo",t)},handler:function(t,e){this.$emit("getAttrInfo",t,e)}}},h=l;var u=a(1001),d=(0,u.Z)(h,c,o,!1,null,"06f78d64",null);const v=d.exports,m={name:"Search",data:function(){return{searchParams:{category1Id:"",category2Id:"",category3Id:"",categoryName:"",keyword:"",props:[],trademark:"",order:"1:desc",pageNo:1,pageSize:3}}},components:{SearchSelector:v},beforeMount:function(){Object.assign(this.searchParams,this.$route.query,this.$route.params)},mounted:function(){this.getSearchList()},methods:{getSearchList:function(){this.$store.dispatch("search/getSearchList",this.searchParams)},clearName:function(){this.searchParams.categoryName=void 0,this.searchParams.category1Id=void 0,this.searchParams.category2Id=void 0,this.searchParams.category3Id=void 0,this.getSearchList(),this.$route.params&&this.$router.push({name:"search",params:this.$route.params})},clearKeyword:function(){this.searchParams.keyword="",this.getSearchList(),this.$route.query&&this.$router.push({name:"search",query:this.$route.query}),this.$bus.$emit("changeKeyword")},changeOrder:function(t){var e=this.searchParams.order.split(":")[0],a=this.searchParams.order.split(":")[1],s="";s=t==e?"".concat(e,":").concat("desc"==a?"asc":"desc"):"".concat(t,":desc"),this.searchParams.order=s,this.getSearchList()},getTradeMarkInfo:function(t){this.searchParams.trademark="".concat(t.tmId,":").concat(t.tmName),this.getSearchList()},clearTradeMark:function(){this.searchParams.trademark="",this.getSearchList()},getAttrInfo:function(t,e){var a="".concat(t.attrId,":").concat(e,":").concat(t.attrName);-1==this.searchParams.props.indexOf(a)&&this.searchParams.props.push(a)&&this.getSearchList()},clearProp:function(t){this.searchParams.props.splice(t,1),this.getSearchList()},getPageNo:function(t){this.searchParams.pageNo=t,this.getSearchList()}},computed:(0,i.Z)((0,i.Z)((0,i.Z)({},(0,n.Se)("search",["goodsList"])),(0,n.rn)("search",["searchList"])),{},{isComprehensive:function(){return-1!=this.searchParams.order.indexOf("1")},isPrice:function(){return-1!=this.searchParams.order.indexOf("2")},isDesc:function(){return-1!=this.searchParams.order.indexOf("desc")},isAsc:function(){return-1!=this.searchParams.order.indexOf("asc")}},(0,n.rn)({total:function(t){return t.search.searchList.total}})),watch:{$route:function(){this.searchParams.category1Id=void 0,this.searchParams.category2Id=void 0,this.searchParams.category3Id=void 0,Object.assign(this.searchParams,this.$route.query,this.$route.params),this.getSearchList()}}},f=m;var g=(0,u.Z)(f,s,r,!1,null,"719fa2dc",null);const p=g.exports},7850:(t,e,a)=>{var s=a(111),r=a(4326),i=a(5112),n=i("match");t.exports=function(t){var e;return s(t)&&(void 0!==(e=t[n])?!!e:"RegExp"==r(t))}},1150:t=>{t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},561:(t,e,a)=>{"use strict";var s=a(2109),r=a(7854),i=a(1400),n=a(9303),c=a(6244),o=a(7908),l=a(5417),h=a(6135),u=a(1194),d=u("splice"),v=r.TypeError,m=Math.max,f=Math.min,g=9007199254740991,p="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!d},{splice:function(t,e){var a,s,r,u,d,_,y=o(this),P=c(y),w=i(t,P),C=arguments.length;if(0===C?a=s=0:1===C?(a=0,s=P-w):(a=C-2,s=f(m(n(e),0),P-w)),P+a-s>g)throw v(p);for(r=l(y,s),u=0;u<s;u++)d=w+u,d in y&&h(r,u,y[d]);if(r.length=s,a<s){for(u=w;u<P-s;u++)d=u+s,_=u+a,d in y?y[_]=y[d]:delete y[_];for(u=P;u>P-s+a;u--)delete y[u-1]}else if(a>s)for(u=P-s;u>w;u--)d=u+s-1,_=u+a-1,d in y?y[_]=y[d]:delete y[_];for(u=0;u<a;u++)y[u+w]=arguments[u+2];return y.length=P-s+a,r}})},4765:(t,e,a)=>{"use strict";var s=a(6916),r=a(7007),i=a(9670),n=a(4488),c=a(1150),o=a(1340),l=a(8173),h=a(7651);r("search",(function(t,e,a){return[function(e){var a=n(this),r=void 0==e?void 0:l(e,t);return r?s(r,e,a):new RegExp(e)[t](o(a))},function(t){var s=i(this),r=o(t),n=a(e,s,r);if(n.done)return n.value;var l=s.lastIndex;c(l,0)||(s.lastIndex=0);var u=h(s,r);return c(s.lastIndex,l)||(s.lastIndex=l),null===u?-1:u.index}]}))},3123:(t,e,a)=>{"use strict";var s=a(2104),r=a(6916),i=a(1702),n=a(7007),c=a(7850),o=a(9670),l=a(4488),h=a(6707),u=a(1530),d=a(7466),v=a(1340),m=a(8173),f=a(1589),g=a(7651),p=a(2261),_=a(2999),y=a(7293),P=_.UNSUPPORTED_Y,w=4294967295,C=Math.min,k=[].push,x=i(/./.exec),I=i(k),b=i("".slice),N=!y((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var a="ab".split(t);return 2!==a.length||"a"!==a[0]||"b"!==a[1]}));n("split",(function(t,e,a){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,a){var i=v(l(this)),n=void 0===a?w:a>>>0;if(0===n)return[];if(void 0===t)return[i];if(!c(t))return r(e,i,t,n);var o,h,u,d=[],m=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),g=0,_=new RegExp(t.source,m+"g");while(o=r(p,_,i)){if(h=_.lastIndex,h>g&&(I(d,b(i,g,o.index)),o.length>1&&o.index<i.length&&s(k,d,f(o,1)),u=o[0].length,g=h,d.length>=n))break;_.lastIndex===o.index&&_.lastIndex++}return g===i.length?!u&&x(_,"")||I(d,""):I(d,b(i,g)),d.length>n?f(d,0,n):d}:"0".split(void 0,0).length?function(t,a){return void 0===t&&0===a?[]:r(e,this,t,a)}:e,[function(e,a){var s=l(this),n=void 0==e?void 0:m(e,t);return n?r(n,e,s,a):r(i,v(s),e,a)},function(t,s){var r=o(this),n=v(t),c=a(i,r,n,s,i!==e);if(c.done)return c.value;var l=h(r,RegExp),m=r.unicode,f=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")+(P?"g":"y"),p=new l(P?"^(?:"+r.source+")":r,f),_=void 0===s?w:s>>>0;if(0===_)return[];if(0===n.length)return null===g(p,n)?[n]:[];var y=0,k=0,x=[];while(k<n.length){p.lastIndex=P?0:k;var N,S=g(p,P?b(n,k):n);if(null===S||(N=C(d(p.lastIndex+(P?k:0)),n.length))===y)k=u(n,k,m);else{if(I(x,b(n,y,k)),x.length===_)return x;for(var L=1;L<=S.length-1;L++)if(I(x,S[L]),x.length===_)return x;k=y=N}}return I(x,b(n,y)),x}]}),!N,P)}}]);
//# sourceMappingURL=626.5531a03d.js.map